# üè® SmartLodge ‚Äî —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (MEPHI Java Spring)

**SmartLodge** ‚Äî —ç—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ –±–∞–∑–µ **Spring Boot 3.3.4**, 
–≤–∫–ª—é—á–∞—é—â–∏–π —Å–∏—Å—Ç–µ–º—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–µ–ª–µ–π —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Gateway.  
–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ Docker, –≤–∫–ª—é—á–∞–µ—Ç **Eureka Discovery**, **Gateway**, 
–∏ –¥–≤–∞ –±–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å–∞ ‚Äî **Booking** –∏ **Hotel**, –∫–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–µ–π Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π.

---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|------|-------------|
| **discovery-service** | `8761` | –†–µ–µ—Å—Ç—Ä —Å–µ—Ä–≤–∏—Å–æ–≤ (Eureka Server) |
| **gateway-service** | `8080` | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è |
| **hotel-service** | `8082` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–µ–ª—è–º–∏ –∏ –Ω–æ–º–µ—Ä–∞–º–∏ |
| **booking-service** | `8083` | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### üß± 1. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
mvn clean package -DskipTests
```

### üê≥ 2. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ Docker Compose
```bash
docker compose build
docker compose up
```

### üß© 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- **Eureka Dashboard:**  
  [http://localhost:8761](http://localhost:8761)  
  ‚Üí –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å `UP`

- **–ó–¥–æ—Ä–æ–≤—å–µ Gateway:**  
  [http://localhost:8080/actuator/health](http://localhost:8080/actuator/health)

---

## üìö Swagger (OpenAPI)

Swagger –ø–æ–¥–∫–ª—é—á—ë–Ω —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É **springdoc-openapi-starter-webmvc-ui**  
(–≤–µ—Ä—Å–∏—è `2.6.0`) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

### üîó –î–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
| –°–µ—Ä–≤–∏—Å | Swagger UI URL | OpenAPI JSON |
|---------|----------------|---------------|
| **Hotel Service** | [http://localhost:8082/swagger-ui/index.html](http://localhost:8082/swagger-ui/index.html) | [http://localhost:8082/v3/api-docs](http://localhost:8082/v3/api-docs) |
| **Booking Service** | [http://localhost:8083/swagger-ui/index.html](http://localhost:8083/swagger-ui/index.html) | [http://localhost:8083/v3/api-docs](http://localhost:8083/v3/api-docs) |

Swagger UI –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–ø—Ä—è–º—É—é –∫ —Å–µ—Ä–≤–∏—Å–∞–º.

---

## üîê –ü—Ä–∏–º–µ—Ä API-–∑–∞–ø—Ä–æ—Å–æ–≤

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X POST http://localhost:8080/booking-service/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"username":"timur","password":"secret"}'
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "username": "timur",
  "role": "USER",
  "token": "eyJhbGciOi..."
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—Ç–µ–ª–µ–π
```bash
curl -X GET http://localhost:8080/hotel-service/api/hotels
```

---

## üß† –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Spring Boot 3.3.4**  
- **Spring Cloud 2023.0.3 (Eureka, Gateway)**  
- **Spring Data JPA + H2 Database**  
- **Spring Security + JWT (jjwt 0.11.5)**  
- **Spring Validation (jakarta.validation)**  
- **Springdoc OpenAPI (Swagger UI)**  
- **Docker Compose**  
- **Java 21**

---

## üßæ –í–Ω–µ—Å—ë–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –ü—Ä–∏—á–∏–Ω–∞ |
|------------|------------|----------|
| **Spring Cloud BOM** | –î–æ–±–∞–≤–ª–µ–Ω –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π `pom.xml` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |
| **JPA + H2** | –î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `hotel-service` –∏ `booking-service` | –†–∞–±–æ—Ç–∞ —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏ –ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î |
| **Validation** | –î–æ–±–∞–≤–ª–µ–Ω `spring-boot-starter-validation` | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π `@Valid`, `@NotBlank`, `@FutureOrPresent` |
| **JWT** | –î–æ–±–∞–≤–ª–µ–Ω –ø–∞–∫–µ—Ç `io.jsonwebtoken` | –¢–æ–∫–µ–Ω-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| **Swagger (Springdoc)** | –î–æ–±–∞–≤–ª–µ–Ω –≤–æ –≤—Å–µ –±–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å—ã | –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API |
| **Fat-JAR** | –ù–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ `spring-boot-maven-plugin` | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `no main manifest attribute` |

---

## üß© –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞

1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã:  
   ```bash
   docker ps
   ```
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Eureka: [http://localhost:8761](http://localhost:8761)  
   ‚Üí –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ **UP**  
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Swagger UI –¥–ª—è Booking –∏ Hotel  
4. –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è / –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è / —Å–ø–∏—Å–æ–∫ –æ—Ç–µ–ª–µ–π)

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**–¢–∏–º—É—Ä –•–∞–Ω–∞–Ω–∏–µ–≤**  
–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é **Java Spring (MEPHI)**  
—Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ DevOps-–ø–æ–¥—Ö–æ–¥ –∫ —Å–±–æ—Ä–∫–µ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é.
